file_path,long_name,start_line_new,end_line_new,start_line_old,end_line_old,line_num,mod_type,mod
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""""",-1,-1,-1,-1,2,"""deleted""",""" * Copyright 2002-2017 the original author or authors."""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""""",-1,-1,-1,-1,2,"""added""",""" * Copyright 2002-2018 the original author or authors."""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""""",-1,-1,-1,-1,47,"""added""","""	/** Maximum ranges per request. */"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""""",-1,-1,-1,-1,48,"""added""","""	private static final int MAX_RANGES = 100;"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""""",-1,-1,-1,-1,49,"""added""",""""""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegion( Resource resource)""",60,69,57,72,63,"""deleted""","""			long contentLength = resource.contentLength();"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegion( Resource resource)""",60,69,57,72,65,"""deleted""","""			long start = getRangeStart(contentLength);"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegion( Resource resource)""",60,69,57,72,65,"""added""","""		long contentLength = getLengthFor(resource);"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegion( Resource resource)""",60,69,57,72,66,"""deleted""","""			long end = getRangeEnd(contentLength);"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegion( Resource resource)""",60,69,57,72,66,"""added""","""		long start = getRangeStart(contentLength);"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegion( Resource resource)""",60,69,57,72,67,"""deleted""","""			return new ResourceRegion(resource, start, end - start + 1);"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegion( Resource resource)""",60,69,57,72,67,"""added""","""		long end = getRangeEnd(contentLength);"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegion( Resource resource)""",60,69,57,72,68,"""added""","""		return new ResourceRegion(resource, start, end - start + 1);"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegion( Resource resource)""",60,69,57,72,69,"""added""","""	}"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""""",-1,-1,-1,-1,70,"""deleted""","""			throw new IllegalArgumentException(""Failed to convert Resource to ResourceRegion"", ex);"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""""",-1,-1,-1,-1,70,"""added""",""""""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::getLengthFor( Resource resource)""",71,81,-1,-1,71,"""added""","""	private static long getLengthFor(Resource resource) {"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::getLengthFor( Resource resource)""",71,81,-1,-1,72,"""added""","""		long contentLength;"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::getLengthFor( Resource resource)""",71,81,-1,-1,74,"""added""","""			contentLength = resource.contentLength();"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::getLengthFor( Resource resource)""",71,81,-1,-1,78,"""added""","""			throw new IllegalArgumentException(""Failed to obtain Resource content length"", ex);"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::getLengthFor( Resource resource)""",71,81,-1,-1,80,"""added""","""		return contentLength;"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""""",-1,-1,-1,-1,125,"""deleted""","""	 * @throws IllegalArgumentException if the string cannot be parsed"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""""",-1,-1,-1,-1,134,"""added""","""	 * @throws IllegalArgumentException if the string cannot be parsed, or if"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""""",-1,-1,-1,-1,135,"""added""","""	 * the number of ranges is greater than 100."""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::parseRanges( @ Nullable String ranges)""",137,153,127,142,147,"""added""","""		Assert.isTrue(tokens.length <= MAX_RANGES, () -> ""Too many ranges "" + tokens.length);"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""""",-1,-1,-1,-1,183,"""added""","""	 * @throws IllegalArgumentException if the sum of all ranges exceeds the"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""""",-1,-1,-1,-1,184,"""added""","""	 * resource length."""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegions( List<HttpRange> ranges , Resource resource)""",187,203,174,183,195,"""added""","""		if (ranges.size() > 1) {"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegions( List<HttpRange> ranges , Resource resource)""",187,203,174,183,196,"""added""","""			long length = getLengthFor(resource);"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegions( List<HttpRange> ranges , Resource resource)""",187,203,174,183,197,"""added""","""			long total = regions.stream().map(ResourceRegion::getCount).reduce(0L, (count, sum) -> sum + count);"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegions( List<HttpRange> ranges , Resource resource)""",187,203,174,183,198,"""added""","""			Assert.isTrue(total < length,"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegions( List<HttpRange> ranges , Resource resource)""",187,203,174,183,199,"""added""","""					() -> ""The sum of all ranges ("" + total + "") "" +"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegions( List<HttpRange> ranges , Resource resource)""",187,203,174,183,200,"""added""","""							""should be less than the resource length ("" + length + "")"");"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegions( List<HttpRange> ranges , Resource resource)""",187,203,174,183,201,"""added""","""		}"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""""",-1,-1,-1,-1,2,"""deleted""",""" * Copyright 2002-2017 the original author or authors."""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""""",-1,-1,-1,-1,2,"""added""",""" * Copyright 2002-2018 the original author or authors."""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""""",-1,-1,-1,-1,22,"""added""","""import java.util.Arrays;"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""""",-1,-1,-1,-1,24,"""added""","""import java.util.stream.Stream;"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""""",-1,-1,-1,-1,105,"""added""","""	@Test"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,106,"""added""","""	public void parseRangesValidations() {"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,107,"""added""",""""""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,108,"""added""","""		// 1. At limit.."""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,109,"""added""","""		StringBuilder sb = new StringBuilder(""bytes=0-0"");"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,110,"""added""","""		for (int i=0; i < 99; i++) {"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,111,"""added""","""			sb.append("","").append(i).append(""-"").append(i + 1);"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,112,"""added""","""		}"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,113,"""added""","""		List<HttpRange> ranges = HttpRange.parseRanges(sb.toString());"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,114,"""added""","""		assertEquals(100, ranges.size());"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,115,"""added""",""""""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,116,"""added""","""		// 2. Above limit.."""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,117,"""added""","""		sb = new StringBuilder(""bytes=0-0"");"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,118,"""added""","""		for (int i=0; i < 100; i++) {"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,119,"""added""","""			sb.append("","").append(i).append(""-"").append(i + 1);"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,120,"""added""","""		}"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,121,"""added""","""		try {"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,122,"""added""","""			HttpRange.parseRanges(sb.toString());"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,123,"""added""","""			fail();"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,124,"""added""","""		}"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,125,"""added""","""		catch (IllegalArgumentException ex) {"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,126,"""added""","""			// Expected"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,127,"""added""","""		}"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::parseRangesValidations()""",106,128,-1,-1,128,"""added""","""	}"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""""",-1,-1,-1,-1,129,"""added""",""""""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""""",-1,-1,-1,-1,174,"""added""","""	@Test"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::toResourceRegionsValidations()""",175,193,-1,-1,175,"""added""","""	public void toResourceRegionsValidations() {"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::toResourceRegionsValidations()""",175,193,-1,-1,176,"""added""","""		byte[] bytes = ""12345"".getBytes(StandardCharsets.UTF_8);"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::toResourceRegionsValidations()""",175,193,-1,-1,177,"""added""","""		ByteArrayResource resource = new ByteArrayResource(bytes);"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::toResourceRegionsValidations()""",175,193,-1,-1,178,"""added""",""""""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::toResourceRegionsValidations()""",175,193,-1,-1,179,"""added""","""		// 1. Below length"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::toResourceRegionsValidations()""",175,193,-1,-1,180,"""added""","""		List<HttpRange> ranges = HttpRange.parseRanges(""bytes=0-1,2-3"");"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::toResourceRegionsValidations()""",175,193,-1,-1,181,"""added""","""		List<ResourceRegion> regions = HttpRange.toResourceRegions(ranges, resource);"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::toResourceRegionsValidations()""",175,193,-1,-1,182,"""added""","""		assertEquals(2, regions.size());"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::toResourceRegionsValidations()""",175,193,-1,-1,183,"""added""",""""""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::toResourceRegionsValidations()""",175,193,-1,-1,184,"""added""","""		// 2. At length"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::toResourceRegionsValidations()""",175,193,-1,-1,185,"""added""","""		ranges = HttpRange.parseRanges(""bytes=0-1,2-4"");"""
"""spring-web/src/test/java/org/springframework/http/HttpRangeTests.java""","""HttpRangeTests::toResourceRegionsValidations()""",175,193,-1,-1,186,"""added""","""		try {"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegions( List<HttpRange> ranges , Resource resource)""",187,203,174,183,187,"""added""","""			HttpRange.toResourceRegions(ranges, resource);"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegions( List<HttpRange> ranges , Resource resource)""",187,203,174,183,188,"""added""","""			fail();"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegions( List<HttpRange> ranges , Resource resource)""",187,203,174,183,189,"""added""","""		}"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegions( List<HttpRange> ranges , Resource resource)""",187,203,174,183,190,"""added""","""		catch (IllegalArgumentException ex) {"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegions( List<HttpRange> ranges , Resource resource)""",187,203,174,183,191,"""added""","""			// Expected.."""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegions( List<HttpRange> ranges , Resource resource)""",187,203,174,183,192,"""added""","""		}"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegions( List<HttpRange> ranges , Resource resource)""",187,203,174,183,193,"""added""","""	}"""
"""spring-web/src/main/java/org/springframework/http/HttpRange.java""","""HttpRange::toResourceRegions( List<HttpRange> ranges , Resource resource)""",187,203,174,183,194,"""added""",""""""
