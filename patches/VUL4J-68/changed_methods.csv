file_path,long_name,start_line_new,end_line_new,start_line_old,end_line_old,line_num,mod_type,mod
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/AddOperation.java""","""""",-1,-1,-1,-1,18,"""deleted""","""import java.util.Arrays;"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/AddOperation.java""","""""",-1,-1,-1,-1,19,"""deleted""","""import java.util.stream.Collectors;"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/AddOperation.java""","""""",-1,-1,-1,-1,20,"""deleted""",""""""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/AddOperation.java""","""""",-1,-1,-1,-1,21,"""deleted""","""import org.springframework.data.mapping.PropertyPath;"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/AddOperation.java""","""""",-1,-1,-1,-1,22,"""deleted""",""""""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/AddOperation.java""","""AddOperation::evaluateValueFromTarget( Object targetObject , Class<T> entityType)""",51,58,56,72,57,"""added""","""		return evaluate(verifyPath(entityType).<Class<?>> map(it -> it.getType()).orElse(entityType));"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/AddOperation.java""","""""",-1,-1,-1,-1,62,"""deleted""","""		String pathSource = Arrays.stream(path.split(""/""))//"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/AddOperation.java""","""""",-1,-1,-1,-1,63,"""deleted""","""				.filter(it -> !it.matches(""\\d"")) // no digits"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/AddOperation.java""","""""",-1,-1,-1,-1,64,"""deleted""","""				.filter(it -> !it.equals(""-"")) // no ""last element""s"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/AddOperation.java""","""""",-1,-1,-1,-1,65,"""deleted""","""				.filter(it -> !it.isEmpty()) //"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/AddOperation.java""","""""",-1,-1,-1,-1,66,"""deleted""","""				.collect(Collectors.joining("".""));"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/AddOperation.java""","""""",-1,-1,-1,-1,67,"""deleted""",""""""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/AddOperation.java""","""""",-1,-1,-1,-1,68,"""deleted""","""		PropertyPath propertyPath = PropertyPath.from(pathSource, entityType);"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/AddOperation.java""","""""",-1,-1,-1,-1,69,"""deleted""",""""""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/AddOperation.java""","""""",-1,-1,-1,-1,70,"""deleted""","""		return value instanceof LateObjectEvaluator ? ((LateObjectEvaluator) value).evaluate(propertyPath.getType())"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/AddOperation.java""","""""",-1,-1,-1,-1,71,"""deleted""","""				: value;"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""""",-1,-1,-1,-1,20,"""added""","""import java.util.Arrays;"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""""",-1,-1,-1,-1,23,"""added""","""import java.util.Optional;"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""""",-1,-1,-1,-1,24,"""added""","""import java.util.stream.Collectors;"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""""",-1,-1,-1,-1,28,"""added""","""import org.springframework.data.mapping.PropertyPath;"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""""",-1,-1,-1,-1,29,"""added""","""import org.springframework.data.mapping.PropertyReferenceException;"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""""",-1,-1,-1,-1,43,"""added""","""	private static final String INVALID_PATH_REFERENCE = ""Invalid path reference %s on type %s (from source %s)!"";"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""""",-1,-1,-1,-1,44,"""added""",""""""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""""",-1,-1,-1,-1,194,"""deleted""","""		return value instanceof LateObjectEvaluator"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""""",-1,-1,-1,-1,195,"""deleted""","""				? ((LateObjectEvaluator) value).evaluate(spelExpression.getValueType(targetObject)) : value;"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::evaluateValueFromTarget( Object targetObject , Class<T> entityType)""",199,204,192,196,201,"""added""","""		verifyPath(entityType);"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::evaluateValueFromTarget( Object targetObject , Class<T> entityType)""",199,204,192,196,202,"""added""",""""""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::evaluateValueFromTarget( Object targetObject , Class<T> entityType)""",199,204,192,196,203,"""added""","""		return evaluate(spelExpression.getValueType(targetObject));"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::evaluateValueFromTarget( Object targetObject , Class<T> entityType)""",199,204,192,196,204,"""added""","""	}"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""""",-1,-1,-1,-1,205,"""added""",""""""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::evaluate( Class<T> type)""",206,208,-1,-1,206,"""added""","""	protected final <T> Object evaluate(Class<T> type) {"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::evaluate( Class<T> type)""",206,208,-1,-1,207,"""added""","""		return value instanceof LateObjectEvaluator ? ((LateObjectEvaluator) value).evaluate(type) : value;"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::evaluate( Class<T> type)""",206,208,-1,-1,208,"""added""","""	}"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""""",-1,-1,-1,-1,209,"""added""",""""""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""""",-1,-1,-1,-1,210,"""added""","""	/**"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""""",-1,-1,-1,-1,211,"""added""","""	 * Verifies that the current path is available on the given type."""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""""",-1,-1,-1,-1,212,"""added""","""	 *"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""""",-1,-1,-1,-1,213,"""added""","""	 * @param type must not be {@literal null}."""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""""",-1,-1,-1,-1,214,"""added""","""	 * @return the {@link PropertyPath} representing the path. Empty if the path only consists of index lookups or append"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""""",-1,-1,-1,-1,215,"""added""","""	 *         characters."""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""""",-1,-1,-1,-1,216,"""added""","""	 */"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::verifyPath( Class <?> type)""",217,234,-1,-1,217,"""added""","""	protected final Optional<PropertyPath> verifyPath(Class<?> type) {"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::verifyPath( Class <?> type)""",217,234,-1,-1,218,"""added""",""""""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::verifyPath( Class <?> type)""",217,234,-1,-1,219,"""added""","""		String pathSource = Arrays.stream(path.split(""/""))//"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::verifyPath( Class <?> type)""",217,234,-1,-1,220,"""added""","""				.filter(it -> !it.matches(""\\d"")) // no digits"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::verifyPath( Class <?> type)""",217,234,-1,-1,221,"""added""","""				.filter(it -> !it.equals(""-"")) // no ""last element""s"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::verifyPath( Class <?> type)""",217,234,-1,-1,222,"""added""","""				.filter(it -> !it.isEmpty()) //"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::verifyPath( Class <?> type)""",217,234,-1,-1,223,"""added""","""				.collect(Collectors.joining("".""));"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::verifyPath( Class <?> type)""",217,234,-1,-1,224,"""added""",""""""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::verifyPath( Class <?> type)""",217,234,-1,-1,225,"""added""","""		if (pathSource.isEmpty()) {"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::verifyPath( Class <?> type)""",217,234,-1,-1,226,"""added""","""			return Optional.empty();"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::verifyPath( Class <?> type)""",217,234,-1,-1,227,"""added""","""		}"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::verifyPath( Class <?> type)""",217,234,-1,-1,228,"""added""",""""""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::verifyPath( Class <?> type)""",217,234,-1,-1,229,"""added""","""		try {"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::verifyPath( Class <?> type)""",217,234,-1,-1,230,"""added""","""			return Optional.of(PropertyPath.from(pathSource, type));"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::verifyPath( Class <?> type)""",217,234,-1,-1,231,"""added""","""		} catch (PropertyReferenceException o_O) {"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::verifyPath( Class <?> type)""",217,234,-1,-1,232,"""added""","""			throw new PatchException(String.format(INVALID_PATH_REFERENCE, pathSource, type, path), o_O);"""
"""spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java""","""PatchOperation::verifyPath( Class <?> type)""",217,234,-1,-1,233,"""added""","""		}"""
"""spring-data-rest-webmvc/src/test/java/org/springframework/data/rest/webmvc/json/patch/JsonPatchTests.java""","""""",-1,-1,-1,-1,165,"""added""","""	@Test(expected = PatchException.class) // DATAREST-1127"""
"""spring-data-rest-webmvc/src/test/java/org/springframework/data/rest/webmvc/json/patch/JsonPatchTests.java""","""JsonPatchTests::rejectsInvalidPaths()""",166,168,-1,-1,166,"""added""","""	public void rejectsInvalidPaths() throws Exception {"""
"""spring-data-rest-webmvc/src/test/java/org/springframework/data/rest/webmvc/json/patch/JsonPatchTests.java""","""JsonPatchTests::rejectsInvalidPaths()""",166,168,-1,-1,167,"""added""","""		readJsonPatch(""patch-invalid-path.json"").apply(new Todo(), Todo.class);"""
"""spring-data-rest-webmvc/src/test/java/org/springframework/data/rest/webmvc/json/patch/JsonPatchTests.java""","""JsonPatchTests::rejectsInvalidPaths()""",166,168,-1,-1,168,"""added""","""	}"""
"""spring-data-rest-webmvc/src/test/java/org/springframework/data/rest/webmvc/json/patch/JsonPatchTests.java""","""""",-1,-1,-1,-1,169,"""added""",""""""
