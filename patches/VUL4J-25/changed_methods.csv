file_path,long_name,start_line_new,end_line_new,start_line_old,end_line_old,line_num,mod_type,mod
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""""",-1,-1,-1,-1,21,"""deleted""","""import java.io.UnsupportedEncodingException;"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""""",-1,-1,-1,-1,22,"""deleted""","""import java.net.URLDecoder;"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""""",-1,-1,-1,-1,23,"""deleted""","""import java.nio.charset.StandardCharsets;"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""""",-1,-1,-1,-1,35,"""deleted""","""import org.apache.commons.lang3.StringEscapeUtils;"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,227,"""added""","""            // Percent-encode characters that are not allowed in unquoted"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,228,"""added""","""            // HTML attributes: "", ', >, <, ` and space. We don't encode ="""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,229,"""added""","""            // since this would break links with query parameters."""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,230,"""added""","""            String encodedUrl = url.replaceAll(""\"""", ""%22"")"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,231,"""deleted""","""            try {"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,231,"""added""","""                    .replaceAll(""'"", ""%27"")"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,232,"""deleted""","""                String unescapedURL = URLDecoder.decode(url, StandardCharsets.UTF_8.name());"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,232,"""added""","""                    .replaceAll("">"", ""%3E"")"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,233,"""deleted""","""                /*"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,233,"""added""","""                    .replaceAll(""<"", ""%3C"")"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,234,"""deleted""","""                    StringEscapeUtils is deprecated starting with version 3.6 of commons-lang3, however the indicated replacement comes from"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,234,"""added""","""                    .replaceAll(""`"", ""%60"")"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,235,"""deleted""","""                    commons-text, which is not an OSGi bundle"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,235,"""added""","""                    .replaceAll("" "", ""%20"");"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,236,"""deleted""","""                */"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,236,"""added""","""            int qMarkIx = encodedUrl.indexOf('?');"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,237,"""deleted""","""                unescapedURL = StringEscapeUtils.unescapeXml(unescapedURL);"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,237,"""added""","""            if (qMarkIx > 0) {"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,238,"""deleted""","""                // Percent-encode characters that are not allowed in unquoted"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,238,"""added""","""                encodedUrl = encodedUrl.substring(0, qMarkIx) + encodedUrl.substring(qMarkIx).replaceAll("":"", ""%3A"");"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,239,"""deleted""","""                // HTML attributes: "", ', >, <, ` and space. We don't encode ="""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,239,"""added""","""            }"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,240,"""deleted""","""                // since this would break links with query parameters."""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,240,"""added""","""            encodedUrl = mangleNamespaces(encodedUrl);"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,241,"""deleted""","""                String encodedUrl = unescapedURL.replaceAll(""\"""", ""%22"")"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,241,"""added""","""            if (xssFilter.isValidHref(encodedUrl)) {"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,242,"""deleted""","""                        .replaceAll(""'"", ""%27"")"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,242,"""added""","""                return encodedUrl;"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,243,"""deleted""","""                        .replaceAll("">"", ""%3E"")"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,244,"""deleted""","""                        .replaceAll(""<"", ""%3C"")"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,245,"""deleted""","""                        .replaceAll(""`"", ""%60"")"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,246,"""deleted""","""                        .replaceAll("" "", ""%20"");"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,247,"""deleted""","""                int qMarkIx = encodedUrl.indexOf('?');"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""""",-1,-1,-1,-1,248,"""deleted""","""                if (qMarkIx > 0) {"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""""",-1,-1,-1,-1,249,"""deleted""","""                    encodedUrl = encodedUrl.substring(0, qMarkIx) + encodedUrl.substring(qMarkIx).replaceAll("":"", ""%3A"");"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""""",-1,-1,-1,-1,250,"""deleted""","""                }"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""""",-1,-1,-1,-1,251,"""deleted""",""""""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""""",-1,-1,-1,-1,252,"""deleted""","""                encodedUrl = mangleNamespaces(encodedUrl);"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""""",-1,-1,-1,-1,253,"""deleted""","""                if (xssFilter.isValidHref(encodedUrl)) {"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""""",-1,-1,-1,-1,254,"""deleted""","""                    return encodedUrl;"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""""",-1,-1,-1,-1,255,"""deleted""","""                }"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""""",-1,-1,-1,-1,256,"""deleted""","""            } catch (UnsupportedEncodingException e) {"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""""",-1,-1,-1,-1,257,"""deleted""","""                LOGGER.error(""Unable to decode url: {}."", url);"""
"""src/test/java/org/apache/sling/xss/impl/XSSAPIImplTest.java""","""XSSAPIImplTest::testGetValidHref()""",216,298,216,294,220,"""added""","""                {"""
"""src/test/java/org/apache/sling/xss/impl/XSSAPIImplTest.java""","""XSSAPIImplTest::testGetValidHref()""",216,298,216,294,221,"""added""","""                        ""test?discount=25%25"","""
"""src/test/java/org/apache/sling/xss/impl/XSSAPIImplTest.java""","""XSSAPIImplTest::testGetValidHref()""",216,298,216,294,222,"""deleted""","""                    ""/base?backHref=javascript%3Aalert(1)"""""
"""src/test/java/org/apache/sling/xss/impl/XSSAPIImplTest.java""","""XSSAPIImplTest::testGetValidHref()""",216,298,216,294,222,"""added""","""                        ""test?discount=25%25"""""
"""src/test/java/org/apache/sling/xss/impl/XSSAPIImplTest.java""","""XSSAPIImplTest::testGetValidHref()""",216,298,216,294,223,"""added""","""                },"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,226,"""added""","""                    """""""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,232,"""deleted""","""                {""%2Fscripts%2Ftest.js"", ""/scripts/test.js""},"""
"""src/main/java/org/apache/sling/xss/impl/XSSAPIImpl.java""","""XSSAPIImpl::getValidHref( final String url)""",225,247,229,262,236,"""added""","""                {""%2Fscripts%2Ftest.js"", ""%2Fscripts%2Ftest.js""},"""
